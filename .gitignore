import turtle
import tkinter as tk


colors = [
    "red", "yellow", "blue", "green", "salmon", "lightblue",
    "purple", "white", "pink", "seashell", "lightpink",
    "maroon", "chocolate", "linen"
]

bg_color_list = [
    "black", "gray", "navy", "darkblue", "darkgreen",
    "purple", "brown", "white"
]

patterns = [
    {"name": "–°–ø–∏—Ä–∞–ª—å", "angle": 91},
    {"name": "–ó–≤–µ–∑–¥–∞", "angle": 100000},
    {"name": "–†–æ–∑–∞", "angle": 55},
    {"name": "–ü–µ–Ω—Ç–∞–≥–æ–Ω", "angle": 32832},
    {"name": "–ü–µ—Ä–µ–≤–µ—Ä–Ω—É—Ç—ã–π —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫", "angle": 60000},
    {"name": "–°–Ω–µ–∂–∏–Ω–∫–∞", "angle": 12032},
    {"name": "–°–Ω–µ–∂–∏–Ω–∫–∞ 2", "angle": 613},
    {"name": "–°–∞–ª—é—Ç", "angle": 613613},
    {"name": "–°–ø–∏—Ä–∞–ª—å 2", "angle": 613111},
    {"name": "–ó–≤–µ–∑–¥–∞ 2", "angle": 456},
    {"name": "–®–∏–ø–∞—Å—Ç—ã–π —Å–∞–ª—é—Ç", "angle": 6666},
    {"name": "–ó–≤–µ–∑–¥–∞ –≤ –∑–≤–µ–∑–¥–µ", "angle": 99999999999999999999999999999999999999999999999999999999999999999999999999999999999999999},
    {"name": "–ó–µ–º–ª—è —à–∏–ø–æ–≤", "angle": 7777},
    {"name": "–î—Ä–æ–ø–ø–µ—Ä", "angle": 62},
    {"name": "–¢—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫", "angle": 120},
    {"name": "–ö–æ—Ä–∏–¥–æ—Ä", "angle": 90}
]


screen = turtle.Screen()
screen.bgcolor("black")
screen.tracer(0)

t = turtle.Turtle()
t.hideturtle()
t.width(2)


watermark = turtle.Turtle()
watermark.hideturtle()
watermark.penup()
watermark.color("#777777")  # –≤–∏–∑—É–∞–ª—å–Ω–∞—è "–ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å"
watermark.goto(0, -250)
watermark.write(
    "SH Studiosüíì",
    align="center",
    font=("Times New Roman", 16, "italic")
)


x = 0
current_angle = patterns[0]["angle"]
current_pattern_name = patterns[0]["name"]

running = False
speed_value = 2

line_color_mode = "auto"   # auto / fixed
fixed_line_color = "white"
def draw_step():
    global x
    if running:
        for _ in range(speed_value):
            if line_color_mode == "auto":
                t.pencolor(colors[x % len(colors)])
            else:
                t.pencolor(fixed_line_color)

            t.forward(x)
            t.left(current_angle)
            x += 1

        screen.update()

    screen.ontimer(draw_step, 50)

draw_step()

def clear_all():
    global x
    t.clear()
    t.penup()
    t.home()
    t.pendown()
    x = 0

def hide_all():
    menu_frame.pack_forget()
    control_frame.pack_forget()
    pattern_frame.pack_forget()
    editor_frame.pack_forget()
    settings_frame.pack_forget()

def show_menu():
    stop()
    hide_all()
    menu_frame.pack(pady=50)

def stop():
    global running
    running = False


def start_game():
    global running
    clear_all()
    running = True
    hide_all()
    control_frame.pack(side=tk.TOP, pady=5)

def exit_game():
    try:
        screen.bye()
    except:
        pass
    root.destroy()


def show_patterns():
    hide_all()
    pattern_frame.pack(pady=20)

def select_pattern(index):
    global current_angle, current_pattern_name, running
    current_angle = patterns[index]["angle"]
    current_pattern_name = patterns[index]["name"]
    pattern_label.config(text=f"–¢–µ–∫—É—â–∏–π —É–∑–æ—Ä: {current_pattern_name}")
    clear_all()
    running = True
    hide_all()
    control_frame.pack(side=tk.TOP, pady=5)


def show_editor():
    hide_all()
    angle_entry.delete(0, tk.END)
    angle_entry.insert(0, str(current_angle))
    editor_frame.pack(pady=30)

def apply_custom_angle():
    global current_angle, current_pattern_name, running
    try:
        angle = float(angle_entry.get())
        current_angle = angle
        current_pattern_name = f"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π ({angle})"
        pattern_label.config(text=f"–¢–µ–∫—É—â–∏–π —É–∑–æ—Ä: {current_pattern_name}")
        clear_all()
        running = True
        hide_all()
        control_frame.pack(side=tk.TOP, pady=5)
    except ValueError:
        angle_entry.delete(0, tk.END)
        angle_entry.insert(0, "–û—à–∏–±–∫–∞")

def show_settings():
    hide_all()
    settings_frame.pack(pady=30)

def apply_bg_color(color):
    screen.bgcolor(color)

def apply_line_color(color):
    global line_color_mode, fixed_line_color
    if color == "–ê–≤—Ç–æ":
        line_color_mode = "auto"
    else:
        line_color_mode = "fixed"
        fixed_line_color = color

def all_colors():
    global line_color_mode
    line_color_mode = "auto"
    line_var.set("–ê–≤—Ç–æ")


root = tk.Tk()
root.title("Turtle Art")

# --- –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é ---
menu_frame = tk.Frame(root)
tk.Label(menu_frame, text="–ú–µ–Ω—é", font=("Arial", 24)).pack(pady=10)
tk.Button(menu_frame, text="–ò–≥—Ä–∞—Ç—å", width=20, command=start_game).pack(pady=5)
tk.Button(menu_frame, text="–£–∑–æ—Ä—ã", width=20, command=show_patterns).pack(pady=5)
tk.Button(menu_frame, text="–†–µ–¥–∞–∫—Ç–æ—Ä", width=20, command=show_editor).pack(pady=5)
tk.Button(menu_frame, text="–ù–∞—Å—Ç—Ä–æ–π–∫–∏", width=20, command=show_settings).pack(pady=5)
tk.Button(menu_frame, text="–í—ã–π—Ç–∏", width=20, command=exit_game).pack(pady=5)
menu_frame.pack(pady=50)


control_frame = tk.Frame(root)

tk.Button(control_frame, text="–°—Ç–æ–ø / –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å", command=lambda: toggle()).pack(side=tk.LEFT, padx=5)
tk.Button(control_frame, text="–°—Ç–µ—Ä–µ—Ç—å –≤—Å—ë", command=clear_all).pack(side=tk.LEFT, padx=5)
tk.Button(control_frame, text="–ù–∞–∑–∞–¥", command=show_menu).pack(side=tk.LEFT, padx=5)

tk.Label(control_frame, text="–°–∫–æ—Ä–æ—Å—Ç—å:").pack(side=tk.LEFT, padx=5)
speed_slider = tk.Scale(control_frame, from_=1, to=10, orient=tk.HORIZONTAL,
                        command=lambda v: set_speed(v))
speed_slider.set(speed_value)
speed_slider.pack(side=tk.LEFT)

pattern_label = tk.Label(control_frame, text=f"–¢–µ–∫—É—â–∏–π —É–∑–æ—Ä: {current_pattern_name}")
pattern_label.pack(side=tk.LEFT, padx=10)


pattern_frame = tk.Frame(root)
tk.Label(pattern_frame, text="–í—ã–±–µ—Ä–∏—Ç–µ —É–∑–æ—Ä", font=("Arial", 18)).pack(pady=10)
for i, p in enumerate(patterns):
    tk.Button(pattern_frame, text=p["name"], width=25,
              command=lambda i=i: select_pattern(i)).pack(pady=3)
tk.Button(pattern_frame, text="–ù–∞–∑–∞–¥", width=20, command=show_menu).pack(pady=10)


editor_frame = tk.Frame(root)
tk.Label(editor_frame, text="–†–µ–¥–∞–∫—Ç–æ—Ä —É–∑–æ—Ä–∞", font=("Arial", 18)).pack(pady=10)
tk.Label(editor_frame, text="–£–≥–æ–ª –ø–æ–≤–æ—Ä–æ—Ç–∞:").pack()
angle_entry = tk.Entry(editor_frame, width=10, justify="center")
angle_entry.pack(pady=5)
tk.Button(editor_frame, text="–ü—Ä–∏–º–µ–Ω–∏—Ç—å", width=20, command=apply_custom_angle).pack(pady=5)
tk.Button(editor_frame, text="–ù–∞–∑–∞–¥", width=20, command=show_menu).pack(pady=5)


settings_frame = tk.Frame(root)
tk.Label(settings_frame, text="–ù–∞—Å—Ç—Ä–æ–π–∫–∏", font=("Arial", 18)).pack(pady=10)

tk.Label(settings_frame, text="–¶–≤–µ—Ç —Ñ–æ–Ω–∞:").pack()
bg_var = tk.StringVar(value="black")
tk.OptionMenu(settings_frame, bg_var, *bg_color_list, command=apply_bg_color).pack(pady=5)

tk.Label(settings_frame, text="–¶–≤–µ—Ç –ª–∏–Ω–∏–π:").pack()
line_var = tk.StringVar(value="–ê–≤—Ç–æ")
tk.OptionMenu(settings_frame, line_var, "–ê–≤—Ç–æ", *colors, command=apply_line_color).pack(pady=5)

tk.Button(settings_frame, text="–í—Å–µ —Ü–≤–µ—Ç–∞ —Å—Ä–∞–∑—É", width=20, command=all_colors).pack(pady=5)
tk.Button(settings_frame, text="–ù–∞–∑–∞–¥", width=20, command=show_menu).pack(pady=10)

def toggle():
    global running
    running = not running

def set_speed(val):
    global speed_value
    speed_value = int(val)

root.protocol("WM_DELETE_WINDOW", exit_game)
root.mainloop()
#SH STUDIOS COPYLOCKED!
#OFFICIAL SH STUDIOS!
